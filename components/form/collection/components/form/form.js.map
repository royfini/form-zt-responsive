{"version":3,"file":"form.js","sourceRoot":"","sources":["../../../src/components/form/form.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, Element, State } from '@stencil/core/internal';\r\nimport { z } from 'zod';\r\nimport tailwind from '../../output.css';\r\n\r\n@Component({\r\n  tag: 'rf-form',\r\n  shadow: true,\r\n})\r\nexport class Form {\r\n  @Element() element: HTMLElement;\r\n\r\n  componentDidLoad() {\r\n    const shadowRoot = this.element.shadowRoot;\r\n    if (shadowRoot) {\r\n      const style = document.createElement('style');\r\n      style.textContent = tailwind;\r\n      shadowRoot.appendChild(style);\r\n    }\r\n  }\r\n\r\n  fnameInputEl: HTMLInputElement;\r\n  lnameInputEl: HTMLInputElement;\r\n  emailInputEl: HTMLInputElement;\r\n  mobileInputEl: HTMLInputElement;\r\n  ageInputEl: HTMLInputElement;\r\n\r\n  @State() fnameInput: string;\r\n  @State() lnameInput: string;\r\n  @State() emailInput: string;\r\n  @State() mobileInput: string;\r\n  @State() ageInput: number;\r\n\r\n  schema = z.object({\r\n    fname: z.string().min(1, { message: 'First Name is required' }),\r\n    lname: z.string().min(1, { message: 'Last Name is required' }),\r\n    email: z.string().email({ message: 'Invalid email address' }),\r\n    mobile: z.number().refine(value => /^\\d{4,12}$/.test(value.toString()), {\r\n      message: 'Invalid mobile number. It should be between 4 and 12 digits long.',\r\n    }),\r\n    age: z.number().min(18, { message: 'Must be at least 18 years old' }).max(99, { message: 'Must be less than 100 years old' }),\r\n  });\r\n\r\n  @State() fnameError = true;\r\n  onInputFname(event: Event) {\r\n    const value = (event.target as HTMLInputElement).value;\r\n    const name = z.string().min(1, { message: 'First Name is required' });\r\n    const result = name.safeParse(value);\r\n    //this.nameErrorMessage.textContent = result.success ? '' : result.error.errors[0].message;\r\n    this.fnameError = !result.success;\r\n    this.disableButton();\r\n  }\r\n\r\n  @State() lnameError = true;\r\n  onInputLname(event: Event) {\r\n    const value = (event.target as HTMLInputElement).value;\r\n    const name = z.string().min(1, { message: 'Last Name is required' });\r\n    const result = name.safeParse(value);\r\n    //this.nameErrorMessage.textContent = result.success ? '' : result.error.errors[0].message;\r\n    this.lnameError = !result.success;\r\n    this.disableButton();\r\n  }\r\n\r\n  @State() emailError = true;\r\n  onInputEmail(event: Event) {\r\n    const value = (event.target as HTMLInputElement).value;\r\n    const email = z.string().email({ message: 'Invalid email address' });\r\n    const result = email.safeParse(value);\r\n    //this.emailErrorMessage.textContent = result.success ? '' : result.error.errors[0].message;\r\n    this.emailError = !result.success;\r\n    this.disableButton();\r\n  }\r\n\r\n  @State() mobileError = true;\r\n  onInputMobile(event: Event) {\r\n    const value = (event.target as HTMLInputElement).value;\r\n    const mobile = z.number().refine(value => /^\\d{4,12}$/.test(value.toString()), {\r\n      message: 'Invalid mobile number. It should be between 4 and 12 digits long.',\r\n    });\r\n    const result = mobile.safeParse(Number(value));\r\n    console.log(result);\r\n    this.mobileError = !result.success;\r\n    this.disableButton();\r\n  }\r\n\r\n  @State() ageError = true;\r\n  onInputAge(event: Event) {\r\n    const value = (event.target as HTMLInputElement).value;\r\n    const age = z.number().min(18, { message: 'Must be at least 18 years old' }).max(99, { message: 'Must be less than 100 years old' });\r\n    const result = age.safeParse(Number(value));\r\n    //this.ageErrorMessage.textContent = result.success ? '' : result.error.errors[0].message;\r\n    this.ageError = !result.success;\r\n    this.disableButton();\r\n  }\r\n\r\n  onSubmitForm(event: Event) {\r\n    event.preventDefault();\r\n    let fname = this.fnameInputEl.value;\r\n    let lname = this.lnameInputEl.value;\r\n    let email = this.emailInputEl.value;\r\n    let mobile = Number(this.mobileInputEl.value);\r\n    let age = Number(this.ageInputEl.value);\r\n    let data = {\r\n      fname,\r\n      lname,\r\n      email,\r\n      mobile,\r\n      age,\r\n    };\r\n    let result = this.schema.safeParse(data);\r\n    if (result.success) {\r\n      alert('Submit successful');\r\n    } else {\r\n      alert('Something went wrong');\r\n    }\r\n  }\r\n\r\n  @State() disable = true;\r\n  disableButton() {\r\n    let fname = this.fnameInputEl.value;\r\n    let lname = this.lnameInputEl.value;\r\n    let email = this.emailInputEl.value;\r\n    let mobile = Number(this.mobileInputEl.value);\r\n    let age = Number(this.ageInputEl.value);\r\n    let data = {\r\n      fname,\r\n      lname,\r\n      email,\r\n      mobile,\r\n      age,\r\n    };\r\n    let result = this.schema.safeParse(data);\r\n    if (result.success) {\r\n      this.disable = false;\r\n    } else {\r\n      this.disable = true;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"flex justify-center items-center\">\r\n        <form onSubmit={this.onSubmitForm.bind(this)} class=\"flex flex-col justify-center items-center border-2 border-black rounded-md p-4 lg:p-12 mt-24\">\r\n          <div class=\"row\">\r\n            <div class=\"card\">\r\n              <input\r\n                class={{ 'input-normal': true, 'input-error': this.fnameError }}\r\n                type=\"text\"\r\n                onInput={this.onInputFname.bind(this)}\r\n                value={this.fnameInput}\r\n                ref={el => (this.fnameInputEl = el)}\r\n              ></input>\r\n              <label class={{ 'label-normal': true, 'label-error': this.fnameError }}>First name</label>\r\n            </div>\r\n            <div class=\"card\">\r\n              <input\r\n                class={{ 'input-normal': true, 'input-error': this.lnameError }}\r\n                type=\"text\"\r\n                onInput={this.onInputLname.bind(this)}\r\n                value={this.lnameInput}\r\n                ref={el => (this.lnameInputEl = el)}\r\n              ></input>\r\n              <label class={{ 'label-normal': true, 'label-error': this.lnameError }}>Last name</label>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"card\">\r\n              <input\r\n                class={{ 'input-normal': true, 'input-error': this.emailError }}\r\n                type=\"text\"\r\n                onInput={this.onInputEmail.bind(this)}\r\n                value={this.emailInput}\r\n                ref={el => (this.emailInputEl = el)}\r\n              ></input>\r\n              <label class={{ 'label-normal': true, 'label-error': this.emailError }}>Email</label>\r\n            </div>\r\n            <div class={{ 'flex': true, 'items-center': true, 'p-4': true, 'gap-3': true, 'input-normal': true, 'input-error': this.mobileError, 'card': true }}>\r\n              <rf-select-options class='absolute left-0 top-0 -translate-x-32 w-2 h-1 -translate-y-32 z-10'></rf-select-options>\r\n              <input type=\"text\" class=\"w-3/4 outline-none ml-24\" onInput={this.onInputMobile.bind(this)} value={this.mobileInput} ref={el => (this.mobileInputEl = el)} />\r\n              <label class=\"label z-20\">Country</label>\r\n              <label class={{ 'label-mobilenumber': true, 'label-mobilenumber-error': this.mobileError }}>Mobile number</label>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"card\">\r\n              <input\r\n                class={{ 'input-normal': true, 'input-error': this.ageError }}\r\n                type=\"number\"\r\n                onInput={this.onInputAge.bind(this)}\r\n                value={this.ageInput}\r\n                ref={el => (this.ageInputEl = el)}\r\n              ></input>\r\n              <label class={{ 'label-normal': true, 'label-error': this.ageError }}>Age</label>\r\n            </div>\r\n            <button class={{ 'btn': true, 'opacity-50': this.disable }} disabled={this.disable}>\r\n              SUBMIT\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}